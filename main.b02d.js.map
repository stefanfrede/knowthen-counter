{"version":3,"sources":["webpack:///./src/actions.js","webpack:///./src/view.js","webpack:///./src/index.js","webpack:///./src/counter.js"],"names":["modify","State","add","x","y","subtract","createActions","update","increase","amount","model","mapProps","counter","execWith","decrease","key","pred","def","get","safeCounterNumber","isNumber","compose","option","chain","safe","prop","run","plusButton","document","getElementById","minusButton","then","icons","default","plusIcon","plus","minusIcon","minus","firstChild","removeChild","appendChild","catch","error","console","readyState","addEventListener","attachEvent","actions","flyd","stream","view","html","evalWith","models","scan","func","rootNode","map","render"],"mappings":";mLAIQA,EAAWC,IAAXD,OAGFE,EAAM,SAAAC,GAAC,OAAI,SAAAC,GAAC,OAAID,EAAIC,IAGpBC,EAAW,SAAAF,GAAC,OAAI,SAAAC,GAAC,OAAKA,EAAID,EAAI,EAAIC,EAAID,EAAI,IAQnCG,EAAgB,SAAAC,GAAM,MAAK,CACtCC,SAAU,SAAAC,GAAM,OAAIF,GAAO,SAAAG,GAAK,OANVP,EAM8BM,EANzBT,EAAOW,IAAS,CAAEC,QAASV,EAAIC,OAMEU,SAASH,GAN/C,IAAAP,MAOtBW,SAAU,SAAAL,GAAM,OAAIF,GAAO,SAAAG,GAAK,OAJVP,EAI8BM,EAJzBT,EAAOW,IAAS,CAAEC,QAASP,EAASF,OAIHU,SAASH,GAJ/C,IAAAP,Q,klBCARY,EAAKC,EAAMC,EAHnBC,EAAQjB,IAARiB,IAWFC,GARUJ,EAQiB,UARZC,EAQuBI,IARjBH,EAQ2B,EAPpDI,IACEC,IAAOL,GACPM,IAAMC,IAAKR,IACXS,IAAKV,KAMHW,EAAM,WACV,IAAMC,EAAaC,SAASC,eAAe,WACrCC,EAAcF,SAASC,eAAe,YAE5C,8BACGE,MAAK,SAAAC,GAGJ,IAHa,MACgCA,EAAMC,QAArCC,EADD,EACLC,KAAuBC,EADlB,EACWC,MAEjBV,EAAWW,YAChBX,EAAWY,YAAYZ,EAAWW,YAKpC,IAFAX,EAAWa,YAAYN,GAEhBJ,EAAYQ,YACjBR,EAAYS,YAAYT,EAAYQ,YAGtCR,EAAYU,YAAYJ,MAEzBK,OAAM,SAAAC,GACLC,QAAQD,MAAMA,OAIQ,YAAxBd,SAASgB,WACXlB,IAEIE,SAASiB,iBACXjB,SAASiB,iBAAiB,mBAAoBnB,GAE9CE,SAASkB,YAAY,sBAAsB,WACb,aAAxBlB,SAASgB,YACXlB,OAMD,IAAmBqB,EC5DpBxC,EAASyC,IAAKC,SACdrC,ECHkC,CACtCF,MAAO,iBAAO,CACZE,QAAS,IAGXsC,MFyDwBH,EEzDPzC,EDFWC,GD2DO,SAAAG,GAAK,OAAIyC,YAAJ,IAOzBjC,EAAIC,GAAmBiC,SAAS1C,IAIb,kBAAMqC,EAAQvC,SAAS,MAGtB,kBAAMuC,EAAQjC,SAAS,SCxEtDuC,EAASL,IAAKM,MAAK,SAAC5C,EAAO6C,GAAR,OAAiBA,EAAK7C,KAAQE,EAAQF,QAASH,GAElEiD,EAAW5B,SAASC,eAAe,OACzCwB,EAAOI,KAAI,SAAA/C,GAAK,OAAIgD,YAAO9C,EAAQsC,KAAKxC,GAAQ8C,Q","file":"main.b02d.js","sourcesContent":["import State from 'crocks/State';\n\nimport mapProps from 'crocks/helpers/mapProps';\n\nconst { modify } = State;\n\n// add :: Number -> Number -> Number\nconst add = x => y => x + y;\n\n// subtract :: Number -> Number -> Number\nconst subtract = x => y => (y - x > 0 ? y - x : 0);\n\n// increaseCounter :: Number -> State Object ()\nconst increaseCounter = x => modify(mapProps({ counter: add(x) }));\n\n// decreaseCounter :: Number -> State Object ()\nconst decreaseCounter = x => modify(mapProps({ counter: subtract(x) }));\n\nexport const createActions = update => ({\n  increase: amount => update(model => increaseCounter(amount).execWith(model)),\n  decrease: amount => update(model => decreaseCounter(amount).execWith(model)),\n});\n","import { html } from 'lit-html';\n\nimport State from 'crocks/State';\n\nimport chain from 'crocks/pointfree/chain';\nimport compose from 'crocks/helpers/compose';\nimport isNumber from 'crocks/predicates/isNumber';\nimport option from 'crocks/pointfree/option';\nimport prop from 'crocks/Maybe/prop';\nimport safe from 'crocks/Maybe/safe';\n\nimport './assets/styles/index.css';\n\nconst { get } = State;\n\n// propOr :: (String, (b -> Boolean), a) -> Object -> c\nconst propOr = (key, pred, def) =>\n  compose(\n    option(def),\n    chain(safe(pred)),\n    prop(key),\n  );\n\n// safeCounterNumber :: Object -> Number\nconst safeCounterNumber = propOr('counter', isNumber, 0);\n\nconst run = () => {\n  const plusButton = document.getElementById('js-plus');\n  const minusButton = document.getElementById('js-minus');\n\n  import('./assets/icons')\n    .then(icons => {\n      const { plus: plusIcon, minus: minusIcon } = icons.default;\n\n      while (plusButton.firstChild) {\n        plusButton.removeChild(plusButton.firstChild);\n      }\n\n      plusButton.appendChild(plusIcon);\n\n      while (minusButton.firstChild) {\n        minusButton.removeChild(minusButton.firstChild);\n      }\n\n      minusButton.appendChild(minusIcon);\n    })\n    .catch(error => {\n      console.error(error); // eslint-disable-line no-console\n    });\n};\n\nif (document.readyState !== 'loading') {\n  run();\n} else {\n  if (document.addEventListener) {\n    document.addEventListener('DOMContentLoaded', run);\n  } else {\n    document.attachEvent('onreadystatechange', () => {\n      if (document.readyState === 'complete') {\n        run();\n      }\n    });\n  }\n}\n\nexport const createView = actions => model => html`\n  <div class=\"counter\">\n    <div class=\"counter__content\">\n      <h3 class=\"counter__title\">\n        Counter\n      </h3>\n      <p class=\"counter__paragraph\">\n        Count: ${get(safeCounterNumber).evalWith(model)}\n      </p>\n    </div>\n    <div class=\"counter__action\">\n      <button id=\"js-plus\" @click=${() => actions.increase(1)}>\n        +\n      </button>\n      <button id=\"js-minus\" @click=${() => actions.decrease(1)}>\n        -\n      </button>\n    </div>\n  </div>\n`;\n","import flyd from 'flyd';\nimport { render } from 'lit-html';\n\nimport { createCounter } from './counter';\n\nconst update = flyd.stream();\nconst counter = createCounter(update);\nconst models = flyd.scan((model, func) => func(model), counter.model(), update);\n\nconst rootNode = document.getElementById('app');\nmodels.map(model => render(counter.view(model), rootNode));\n","import { createActions } from './actions';\nimport { createView } from './view';\n\nexport const createCounter = update => ({\n  model: () => ({\n    counter: 0,\n  }),\n\n  view: createView(createActions(update)),\n});\n"],"sourceRoot":""}